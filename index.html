<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>A Dubliner's Choice</title>
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script> 
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <link rel="stylesheet" href="https://bootswatch.com/4/minty/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="css/main.css" type="text/css" />

  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="Home">Home<span class="sr-only">(current)</span></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#map">Map</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="Attractions">Attractions</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="BarRest">Bars & Restaurants</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="Accommodation">Accommodation</a>
        </li>
      </ul>
    <!--  <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search">
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
      </form> --> 
    </div>
  </nav>
</head>

<body>
  <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block w-100" src="images/dublin.jpg" alt="First slide">
        <div id ="carouselblock" class="carousel-caption d-none d-md-block">
          <h2 id ="carouselhead">Fáiltíonn Míle</h2>
          <p id="carouselp">A thousand welcomes</p>
          <a id ="carouselbutton" class="btn btn-primary btn-lg" href="#map" role="button">Dublin Map</a>
        </div>
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="images/Sandycove.jpg" alt="Second slide">
        <div id ="carouselblock" class="carousel-caption d-none d-md-block">
          <h2 id="carouselheadatt">Things to do</h2>
          <p id="carouselpatt">One city many faces</p>
          <a id ="carouselbutton2" class="btn btn-primary btn-lg" href="#" role="button">Attractions</a>
        </div>
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="images/dublin2.jpg" alt="Third slide">
        <div class="carousel-caption d-none d-md-block">
          <h2>...</h2>
          <p>...</p>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
    <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
  </div>

  <div class="jumbotron">
    <h1 class="display-3">A Dubliner's Choice</h1>
    <p class="lead">Here you find some choice picks from a native Dubliner and a few places that every new comer should come and see.</p>
    <hr class="my-4">
    <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
    <p class="lead">
      <a class="btn btn-primary btn-lg" href="#" role="button">Dublin Map</a>
    </p>
  </div>
  <div class="jumbotron">
    <div class="row">
      <div class="col-lg-4">
        <div class="card text-white bg-success mb-3" style="max-width: 20rem;">
          <div class="card-header">Attractions</div>
          <div class="card-body">
            <h4 class="card-title">Success card title</h4>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          </div>
        </div>
        <button type="button" class="btn btn-outline-success">Success</button>
      </div>
      <div class="col-lg-4">
        <div class="card text-white bg-info mb-3" style="max-width: 20rem;">
          <div class="card-header">bars and restaurants</div>
          <div class="card-body">
            <h4 class="card-title">Danger card title</h4>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          </div>
        </div>
        <button type="button" class="btn btn-outline-info">Danger</button>
      </div>
      <div class="col-lg-4">
        <div class="card text-white bg-secondary mb-3" style="max-width: 20rem;">
          <div class="card-header">Accommodation</div>
          <div class="card-body">
            <h4 class="card-title">Warning card title</h4>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          </div>
        </div>
        <button type="button" class="btn btn-outline-secondary">Warning</button>
      </div>
    </div>
  </div>
  <div class="jumbotron">
    <h2 class="display-3">Dublin</h2>
    <div id="map"></div>
    <hr class="my-4">
    <div class="row">
      <div class="col-lg-4">
        <button id="attr" type="button" class="btn btn-success">Attractions</button>
      </div>
      <div class="col-lg-4">
        <button id="bandr" type="button" class="btn btn-info">Bars & Restaurants</button>
      </div>
      <div class="col-lg-4">
        <button id="accom"type="button" class="btn btn-secondary">Accommodation</button>
      </div>
      <div class="col-lg-4">
        <button id="reset"type="button" class="btn btn-secondary">Restart Map</button>
      </div>
    </div>
  </div>
</body>

<script>
  function initMap() {

    //var marker = new google.maps.Marker({});

    var activeMarkers = [];
    var map;
    
    var locationTypes1 = [{
      name: "Restaurants",
      locations: [
        { name: "Fish", position: { lat: 53.289284, lng: -6.125384 } }, // Fish Shake Cafe
        { name: "Daniel", position: { lat: 53.286649, lng: -6.121777 } }, // Daniel's 
      ]
    }];

    var locationTypes2 = [{
      name: "Drinks",
      locations: [
        { name: "Toners", position: { lat: 53.337757, lng: -6.252428 } }, // Toners 
        { name: "Doheny", position: { lat: 53.338024, lng: -6.252970 } }, // Doheny & Nesbitt
        { name: "Hogans", position: { lat: 53.341978, lng: -6.264605 } }, // Hogans
        { name: "Fade", position: { lat: 53.342971, lng: -6.262812 } }, // Fade Street Social Restaurant 
        { name: "Peruke", position: { lat: 53.340099, lng: -6.258775 } } // Peruke & Periwig
      ]
    }];

    function addMarker(map, location) {
      var marker = new google.maps.Marker({
        position: location.position,
        map: map,
        title: location.name
      });

      var infowindow = new google.maps.InfoWindow({
        content: location.name
      });

      marker.addListener('click', function() {
        infowindow.open(map, marker);
      });

      activeMarkers.push(marker);
    }

    function setup() {
      console.log("setting up")

      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 12,
        center: { lng: -6.223231, lat: 53.316624 }
      });

      for (var i = 0; i < locationTypes1[0].locations.length; i++) {
        addMarker(map, locationTypes1[0].locations[i]);
      }
      for (var j = 0; j < locationTypes2[0].locations.length; j++) {
        addMarker(map, locationTypes2[0].locations[j]);
      }
    }

    function clearAllMarkers() {
      console.log("clearing markers");
      for (var j = 0; j < activeMarkers.length; j++) {
        var marker = activeMarkers[j];
        marker.setMap();
      }

      activeMarkers = [];
    }


    setup();

    $("#reset").click(function() {
      clearAllMarkers();

    });

    //var markers = locations.map(function(location, i) {
    //    return new google.maps.Marker({
    //        position: location,
    //    });

    $("#bandr").click(function() {
      addMarker(map,{locationTypes1});
      console.log("did This run");
    });

    $("#accom").click(function() {
      addMarker();
      //map.setZoom(15);
      //map.setCenter({ lng: -6.258575, lat: 53.338978 });
      console.log("did This run too");
    });

  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCNe6UmR7Cb_o__XnRezEUk17J7li0-Xhg&callback=initMap"></script>


</html>
